# Prompter MVP 开发进度汇报 (2026-01-09)

## 总体状态
目前项目已完成 **Phase 1 (基础框架)**、**Phase 2 (核心功能)** 和 **Phase 3 (版本管理)** 的全部开发工作，项目进入稳定运行阶段，准备开始 Phase 4 (测试/评估功能) 的开发。

---

## 已完成的主要功能

### 1. 核心编辑器与 UI (Phase 1 & 2)
- **VSCode 风格布局**：实现了响应式的侧边栏、活动条、标签页编辑器布局。
- **配色系统**：采用了 Stone + Orange 的暖色调设计，支持深色/浅色模式切换。
- **Markdown 编辑器**：
  - 支持 GFM、数学公式 (LaTeX)、代码高亮。
  - 实现了 **三视图切换**：仅编辑、仅预览、分屏对比。
  - 支持左右滚动同步。

### 2. 提示词与分类管理 (Phase 2 & 改进)
- **提示词 CRUD**：支持创建、编辑、删除和持久化存储位。
- **分类与标签**：实现了分类的嵌套支持（暂为扁平展示）和标签着色系统。
- **[新] 右键菜单支持**：
  - **提示词右键**：重命名、移动至指定分类、彻底删除。
  - **分类右键**：重命名分类、删除分类（自动将下属提示词移至"未分类"）。
- **智能分组**：侧边栏自动按分类展示，并设有独占的"未分类"组。

### 3. 版本控制系统 (Phase 3)
- **版本快照**：支持手动创建版本快照，或在保存时自动记录。
- **版本历史面板**：右侧可弹出版本历史列表，支持查看历史详情。
- **Diff 对比**：集成了版本对比功能，支持逐行对比不同版本间的差异。
- **版本回滚**：支持一键将提示词内容回溯至历史特定版本。

---

## 近期重要修复与优化

| 类别 | 描述 |
| :--- | :--- |
| **数据库** | 修复了 Tauri SQL 插件在 macOS 下的权限报错问题 (`sql:allow-execute` 等)。 |
| **稳定性** | 修复了 React 在渲染期间更新状态的警告 (EditorGroup Tab 关闭逻辑优化)。 |
| **交互** | 创建新提示词时，分类选择现为 **可选** (默认为"未分类")。 |
| **验证** | 实现同分类下 **名称唯一性检查**，防止同名提示词导致混淆。 |
| **UI 修复** | 修复了创建多个未分类提示词时，侧边栏出现重复"未分类"组的逻辑漏洞。 |
| **稳健性** | 将 native `confirm` 弹窗替换为 **自定义菜单内确认 UI**，解决了在 Tauri 环境下原生弹窗响应不一致的问题。 |

---

## 核心技术栈
- **前端**: Next.js 16 (App Router), Tailwind CSS, Lucide React, Zustand.
- **后端**: Tauri (Rust), SQLite (`tauri-plugin-sql`).
- **Markdown**: React-Markdown, Remark-GFM, Rehype-Katex, Rehype-Highlight.

## 后续计划 (Phase 4)
- **API 配置管理**：支持集成 OpenAI / Anthropic 等主流模型厂商 API。
- **提示词测试环境**：在应用内直接输入变量并运行提示词，查看模型输出结果。
- **测试结果持久化**：记录每次测试的 Prompt、参数及回复，方便横向对比。

---
*汇报人：Antigravity AICoding Assistant*
